# =============================================================================
# GREEN DECK - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and adjust values as needed.
# For Docker deployment, see the Docker-specific section below.
# =============================================================================

# -----------------------------------------------------------------------------
# OLLAMA CONFIGURATION
# -----------------------------------------------------------------------------
# Local development (non-Docker):
OLLAMA_HOST=http://localhost:11434

# Docker (Ollama running on host machine):
# OLLAMA_HOST=http://host.docker.internal:11434

# Docker (Ollama running as container - use with docker-compose.ollama.yml):
# OLLAMA_HOST=http://ollama:11434

OLLAMA_MODEL=qwen-flashcard
OLLAMA_ANALYSIS_MODEL=embeddinggemma

# -----------------------------------------------------------------------------
# ANKI CONFIGURATION (optional)
# -----------------------------------------------------------------------------
# Local development (non-Docker):
ANKI_CONNECT_URL=http://127.0.0.1:8765

# Docker (Anki running on host machine):
# ANKI_CONNECT_URL=http://host.docker.internal:8765

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
PORT=3000
ENVIRONMENT=development

# -----------------------------------------------------------------------------
# TEXT PROCESSING LIMITS
# -----------------------------------------------------------------------------
MAX_SOURCE_CHARS=16000
MAX_CTX_CHARS=1500

# -----------------------------------------------------------------------------
# SECURITY CONFIGURATION
# -----------------------------------------------------------------------------
# Local development:
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# Docker production (adjust to your domain):
# CORS_ORIGINS=https://yourdomain.com

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_DEFAULT=100/minute
RATE_LIMIT_GENERATE=10/minute

# -----------------------------------------------------------------------------
# DOCUMENT PROCESSING TIMEOUTS
# -----------------------------------------------------------------------------
# Maximum time (seconds) for document extraction and preview operations.
# Adjust based on your server resources and typical file sizes.

# Full document extraction timeout (default: 180 seconds / 3 minutes)
DOCUMENT_EXTRACTION_TIMEOUT=180

# Document preview timeout (default: 90 seconds)
DOCUMENT_PREVIEW_TIMEOUT=90

# Recommendations:
# - Small deployments (personal use): 120-180 seconds
# - Medium deployments (team use): 180-240 seconds
# - Large files (100+ pages): 300 seconds or use page selection
# - For very large files, select specific pages instead of extracting the entire document

# -----------------------------------------------------------------------------
# DOCKER-SPECIFIC OPTIONS
# -----------------------------------------------------------------------------
# Set to "true" to wait for Ollama to be available before starting the app
# (only applies when running in Docker)
WAIT_FOR_OLLAMA=false
