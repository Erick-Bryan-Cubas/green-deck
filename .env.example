# =============================================================================
# GREEN DECK - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and adjust values as needed.
# For Docker deployment, see the Docker-specific section below.
# =============================================================================

# -----------------------------------------------------------------------------
# OLLAMA CONFIGURATION
# -----------------------------------------------------------------------------
# Local development (non-Docker):
OLLAMA_HOST=http://localhost:11434

# Docker (Ollama running on host machine):
# OLLAMA_HOST=http://host.docker.internal:11434

# Docker (Ollama running as container - use with docker-compose.ollama.yml):
# OLLAMA_HOST=http://ollama:11434

OLLAMA_MODEL=qwen-flashcard
OLLAMA_ANALYSIS_MODEL=embeddinggemma

# -----------------------------------------------------------------------------
# ANKI CONFIGURATION (optional)
# -----------------------------------------------------------------------------
# Local development (non-Docker):
ANKI_CONNECT_URL=http://127.0.0.1:8765

# Docker (Anki running on host machine):
# ANKI_CONNECT_URL=http://host.docker.internal:8765

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
PORT=3000
ENVIRONMENT=development

# -----------------------------------------------------------------------------
# TEXT PROCESSING LIMITS
# -----------------------------------------------------------------------------
MAX_SOURCE_CHARS=16000
MAX_CTX_CHARS=1500

# -----------------------------------------------------------------------------
# SECURITY CONFIGURATION
# -----------------------------------------------------------------------------
# Local development:
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# Docker production (adjust to your domain):
# CORS_ORIGINS=https://yourdomain.com

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_DEFAULT=100/minute
RATE_LIMIT_GENERATE=10/minute

# -----------------------------------------------------------------------------
# DOCUMENT PROCESSING CONFIGURATION
# -----------------------------------------------------------------------------
# Configuration for document extraction and preview operations.

# Extraction timeout (0 = sem timeout, recomendado para PDFs grandes)
DOCUMENT_EXTRACTION_TIMEOUT=300

# Preview timeout (0 = sem timeout - processamento paralelo é rápido)
DOCUMENT_PREVIEW_TIMEOUT=0

# Processamento paralelo para preview de PDFs
# Máximo de páginas processadas simultaneamente (ajustar baseado em RAM)
DOCUMENT_MAX_CONCURRENT_PAGES=10

# Tamanho do lote para processamento em batch
DOCUMENT_PREVIEW_BATCH_SIZE=50

# Recomendações por ambiente:
# - Máquinas com pouca RAM (4GB): MAX_CONCURRENT=5, BATCH_SIZE=30
# - RAM adequada (8GB+): MAX_CONCURRENT=10, BATCH_SIZE=50
# - Servidores (16GB+): MAX_CONCURRENT=20, BATCH_SIZE=100

# -----------------------------------------------------------------------------
# DOCKER-SPECIFIC OPTIONS
# -----------------------------------------------------------------------------
# Set to "true" to wait for Ollama to be available before starting the app
# (only applies when running in Docker)
WAIT_FOR_OLLAMA=false
